{"title":"JS高级-7-ES6到ES12","uid":"29789f7c4454c44748966712b35e8881","slug":"js-premier-7-es6-to-es12","date":"2025-07-31T06:41:18.000Z","updated":"2025-11-09T15:36:38.919Z","comments":true,"path":"api/articles/js-premier-7-es6-to-es12.json","keywords":null,"cover":"https://raw.githubusercontent.com/ProselyteCoding/online-assets/main/blog/cover-js.png","content":"<h1 id=\"JS-高级-7-ES6-到-ES12\"><a href=\"#JS-高级-7-ES6-到-ES12\" class=\"headerlink\" title=\"JS 高级-7-ES6 到 ES12\"></a>JS 高级-7-ES6 到 ES12</h1><h2 id=\"ES6\"><a href=\"#ES6\" class=\"headerlink\" title=\"ES6\"></a>ES6</h2><h3 id=\"一、扩展继承内置类\"><a href=\"#一、扩展继承内置类\" class=\"headerlink\" title=\"一、扩展继承内置类\"></a>一、扩展继承内置类</h3><p>用于扩展类的方法，实现某些特殊功能同时保持大部分原类的功能可用。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyArray</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Array</span> {</span><br><span class=\"line\">  <span class=\"title function_\">firstItem</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>[<span class=\"number\">0</span>];</span><br><span class=\"line\">  }</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">lastItem</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>[<span class=\"variable language_\">this</span>.<span class=\"property\">length</span> - <span class=\"number\">1</span>];</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = <span class=\"keyword\">new</span> <span class=\"title class_\">MyArray</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">firstItem</span>()); <span class=\"comment\">// 输出: 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">lastItem</span>()); <span class=\"comment\">// 输出: 3</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"二、实现混入效果-mixin\"><a href=\"#二、实现混入效果-mixin\" class=\"headerlink\" title=\"二、实现混入效果 mixin\"></a>二、实现混入效果 mixin</h3><p>JS 只支持单继承，只能有一个父类。那么在开发中我们需要在一个类中添加更多相似的功能时，应该如何来做呢？</p>\n<p>这个时候我们可以使用混入(mixin)。JS 中虽然没有 <code>mixin</code> 关键字，却可以实现类似的混入效果。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">mixinRunner</span>(<span class=\"params\">BaseClass</span>) {</span><br><span class=\"line\">  <span class=\"keyword\">class</span> <span class=\"title class_\">NewClass</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">BaseClass</span> {</span><br><span class=\"line\">    <span class=\"title function_\">running</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"running~\"</span>);</span><br><span class=\"line\">    }</span><br><span class=\"line\">  }</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">NewClass</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">mixEater</span>(<span class=\"params\">BaseClass</span>) {</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">class</span> <span class=\"title class_\">extends</span> <span class=\"title class_\">BaseClass</span> {</span><br><span class=\"line\">    <span class=\"title function_\">eating</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"eating~\"</span>);</span><br><span class=\"line\">    }</span><br><span class=\"line\">  };</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">NewStudent</span> = <span class=\"title function_\">mixinRunner</span>(<span class=\"title function_\">mixEater</span>(<span class=\"title class_\">Student</span>));</span><br><span class=\"line\"><span class=\"keyword\">var</span> ns = <span class=\"keyword\">new</span> <span class=\"title class_\">NewStudent</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">ns.<span class=\"title function_\">running</span>();</span><br><span class=\"line\">ns.<span class=\"title function_\">eating</span>();</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"三、JavaScript-中的多态\"><a href=\"#三、JavaScript-中的多态\" class=\"headerlink\" title=\"三、JavaScript 中的多态\"></a>三、JavaScript 中的多态</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>多态(polyorphism)指为不同数据类型的实体提供统一的接口或使用单一的符号来表示多个不同的类型。</p></blockquote>\n<p>不同的数据类型，进行同一个操作，表现出不同的行为，就是多态的体现。</p>\n<p>传统的面向对象多态有三个前提：</p>\n<ol>\n<li>必须有继承</li>\n<li>子类重写父类的方法</li>\n<li>必须有父类的引用指向子类的对象</li>\n</ol>\n<figure class=\"highlight typescript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 模拟传统面向对象多态的实现</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Shape</span> {</span><br><span class=\"line\">  <span class=\"title function_\">area</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">\"This method must be overridden.\"</span>);</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Rectangle</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Shape</span> {</span><br><span class=\"line\">  <span class=\"title function_\">area</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">width</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">height</span>;</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Circle</span> <span class=\"keyword\">extends</span> <span class=\"title class_ inherited__\">Shape</span> {</span><br><span class=\"line\">  <span class=\"title function_\">area</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">radius</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span>;</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> r = <span class=\"keyword\">new</span> <span class=\"title class_\">Rectangle</span>();</span><br><span class=\"line\"><span class=\"keyword\">var</span> c = <span class=\"keyword\">new</span> <span class=\"title class_\">Circle</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getArea</span>(<span class=\"params\"><span class=\"attr\">shape</span>: <span class=\"title class_\">Shape</span></span>) {</span><br><span class=\"line\">  <span class=\"keyword\">return</span> shape.<span class=\"title function_\">area</span>();</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// JS面向对象多态的实现</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">calcArea</span>(<span class=\"params\">foo</span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(foo.<span class=\"title function_\">getArea</span>());</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"obj1\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">getArea</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">  },</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Person</span> {</span><br><span class=\"line\">  <span class=\"title function_\">getArea</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">10</span>;</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">calcArea</span>(obj1);</span><br><span class=\"line\"><span class=\"title function_\">calcArea</span>(p);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// JavaScript中的 '+' 运算符也是多态的体现</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sum</span>(<span class=\"params\">a, b</span>) {</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a + b;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">sum</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>));</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">sum</span>(<span class=\"number\">1</span>, <span class=\"string\">\"2\"</span>));</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"四、对象字面量的增强\"><a href=\"#四、对象字面量的增强\" class=\"headerlink\" title=\"四、对象字面量的增强\"></a>四、对象字面量的增强</h3><figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">\"Alice\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> age = <span class=\"number\">18</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ES6 增强写法</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> person = {</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 原赋值写法</span></span><br><span class=\"line\">  <span class=\"comment\">//   name: name,</span></span><br><span class=\"line\">  <span class=\"comment\">//   age: age,</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 1. property shorthand 属性简写</span></span><br><span class=\"line\">  name,</span><br><span class=\"line\">  age,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 原方法写法</span></span><br><span class=\"line\">  <span class=\"comment\">// foo: function () {</span></span><br><span class=\"line\">  <span class=\"comment\">//   console.log(\"foo\");</span></span><br><span class=\"line\">  <span class=\"comment\">// },</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 2. method shorthand 方法简写</span></span><br><span class=\"line\">  <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"foo\"</span>);</span><br><span class=\"line\">  }</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 3. computed property names 计算属性名</span></span><br><span class=\"line\">  [<span class=\"string\">\"computed\"</span> + <span class=\"string\">\"PropertyName\"</span>]: <span class=\"string\">\"value\"</span></span><br><span class=\"line\">};</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"五、对象和数组的解构-Destructuring\"><a href=\"#五、对象和数组的解构-Destructuring\" class=\"headerlink\" title=\"五、对象和数组的解构 Destructuring\"></a>五、对象和数组的解构 Destructuring</h3><p>ES6 中新增了一个从对象和数组中提取数据的语法，称为对象和数组的解构（Destructuring）。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 数组解构</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> names = [<span class=\"string\">\"Alice\"</span>, <span class=\"string\">\"Bob\"</span>, <span class=\"string\">\"Charlie\"</span>];</span><br><span class=\"line\"><span class=\"comment\">// var item1 = names[0];</span></span><br><span class=\"line\"><span class=\"comment\">// var item2 = names[1];</span></span><br><span class=\"line\"><span class=\"comment\">// var item3 = names[2];</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> [item1, item2, item3] = names; <span class=\"comment\">// 取前三个元素分别赋值</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> [, , item3] = names; <span class=\"comment\">// 只取第三个元素</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> [item1, , item3] = names; <span class=\"comment\">// 解构第一个和第三个元素</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> [item1, ...rest] = names; <span class=\"comment\">// 解构出一个元素，后面的元素放到一个新数组 rest 中</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> [item1, item2, item3, item4] = names; <span class=\"comment\">// 如果数组元素不足，则 undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> [item1, item2, item3, item4 = <span class=\"string\">\"default\"</span>] = names; <span class=\"comment\">// 使用默认值 \"default\"</span></span><br></pre></td></tr></tbody></table></figure>\n\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 对象解构</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> person = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">  <span class=\"attr\">address</span>: {</span><br><span class=\"line\">    <span class=\"attr\">city</span>: <span class=\"string\">\"New York\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">country</span>: <span class=\"string\">\"USA\"</span>,</span><br><span class=\"line\">  },</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> { name, age, address } = person; <span class=\"comment\">// 根据 key 解构，与顺序无关</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> {</span><br><span class=\"line\">  name,</span><br><span class=\"line\">  age,</span><br><span class=\"line\">  <span class=\"attr\">address</span>: { city, country },</span><br><span class=\"line\">} = person;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> { <span class=\"attr\">name</span>: newName } = person; <span class=\"comment\">// 重命名变量</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> { <span class=\"attr\">name</span>: newName = <span class=\"string\">\"anotherName\"</span> } = person; <span class=\"comment\">// 重命名变量并使用默认值</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>使用场景：</strong></p>\n<ol>\n<li>在开发中拿到一个对象或数组变量时，自动对其进行解构使用</li>\n<li>函数参数传递时，自动解构对象或数组</li>\n</ol>\n<h3 id=\"六、let-和-const\"><a href=\"#六、let-和-const\" class=\"headerlink\" title=\"六、let 和 const\"></a>六、let 和 const</h3><p>ES6 引入了 <code>let</code> 和 <code>const</code> 关键字，用于实现更精确、规范地声明变量。</p>\n<p><strong>const 常量/恒量：</strong></p>\n<p>一旦声明，其值不能被重新赋值。如果声明的是对象或数组，其属性或元素可以被修改。即如果传递的是一个引用类型（内存地址），该地址不能重新赋值但地址指向的内容的属性可以被修改。</p>\n<p><strong>var 与 let/const 的区别：</strong></p>\n<ol>\n<li>let/const 没有变量提升（hoisting）问题，不能在声明前使用该变量。（即使是用 <code>var</code> 声明也不可以）</li>\n<li>let/const 声明的变量具有块级作用域，块级作用域（函数、循环、条件、<code>try-catch</code>）外部无法访问。</li>\n<li>let/const 声明的变量不能重复声明。</li>\n</ol>\n<p><strong>let/const 没有变量提升是不是只有执行到改行才会被创建呢？</strong></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>这些变量会被创建在包含它们的词法环境被示例化时，但是是不可访问的，直到词法绑定被求值。（暂时性死区，temporal dead zone，简称 TDZ）</p></blockquote>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 暂时性死区（TDZ）示例</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"string\">\"foo\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(foo); <span class=\"comment\">// ReferenceError: Cannot access 'foo' before initialization</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> foo = <span class=\"string\">\"foo\"</span>;</span><br><span class=\"line\">  <span class=\"comment\">// 优先使用本级代码块中的变量，发现有用 let 声明的，但是处于“暂时性死区”中，不可访问，因此报错，而不是继续向上层作用域中寻找 var 来定义的 foo</span></span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>let/const 和 window 的关系：</strong></p>\n<ol>\n<li>let/const 声明的全局变量不会被添加到全局对象（window）中。</li>\n<li>var 声明的全局变量会添加到全局对象（window）中。</li>\n<li>每一个执行上下文会被关联到一个变量环境（variable environment）中，在执行代码中变量和函数的声明会作为环境记录（variable record）添加到变量环境中。</li>\n<li>也就是说我们声明的变量和环境记录是被添加到变量环境中的。</li>\n<li>标准并没规定这个对象是 window，JS 引擎在解析时会有自己的实现，v8 引擎就没有实现 window 而是实现的 VariableMap 这样的 hashMap 来实现存储的。</li>\n<li>变量被保存在_Variables: VariableMap（本质是 hashMap）中）</li>\n<li>window 对象是早期的 GO 对象，在最新的实现中其实是浏览器添加的全局对象，并且一直保持了 window 和 var 之间值的相等性。</li>\n</ol>\n<p><strong>块级作用域：</strong></p>\n<p>用 <code>{}</code> 包裹的代码块，块级作用域中的变量在块级作用域外部无法访问。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">{</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) {</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">switch</span> (<span class=\"literal\">true</span>) {</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"attr\">false</span>:</span><br><span class=\"line\">    <span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span> {</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">} <span class=\"keyword\">catch</span> (e) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a); <span class=\"comment\">// ReferenceError: a is not defined</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> a = <span class=\"number\">0</span>; a &lt; <span class=\"number\">5</span>; a++) {</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a); <span class=\"comment\">// ReferenceError: a is not defined</span></span><br></pre></td></tr></tbody></table></figure>\n\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 循环中的声明进一步说明</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> a = <span class=\"number\">0</span>; a &lt; btns.<span class=\"property\">length</span>; a++) {</span><br><span class=\"line\">  btns[a].<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);</span><br><span class=\"line\">  };</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">// 5 5 5 5 5 以前必须使用立即执行函数来解决这一问题</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> a = <span class=\"number\">0</span>; a &lt; btns.<span class=\"property\">length</span>; a++) {</span><br><span class=\"line\">  btns[a].<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a);</span><br><span class=\"line\">  };</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">// 0 1 2 3 4 现在可以使用 let 的块级作用域解决</span></span><br><span class=\"line\"></span><br><span class=\"line\">{</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">{</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"><span class=\"comment\">// 以上循环逻辑相当于定义了五个块级作用域</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> item <span class=\"keyword\">of</span> items) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item);</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"comment\">// 这种写法可以使用 const 来声明块级作用域</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>var/let/const 使用的选择：</strong></p>\n<p><code>var</code> 表现出许多特殊性，其实是 JavaScript 设计之初的一种语言缺陷，实际中需尽量避免使用。</p>\n<p>对于 <code>let</code> 和 <code>const</code> 来说，是目前开发中推荐使用的。优先使用 <code>const</code>，可以保证数据安全不被随意篡改；只有在需要重新赋值的时候才使用 <code>let</code>。</p>\n<h3 id=\"七、模板字符串\"><a href=\"#七、模板字符串\" class=\"headerlink\" title=\"七、模板字符串\"></a>七、模板字符串</h3><p>模板字符串，可以较为优雅地实现字符串的拼接与插值。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"my name is \"</span> + name + <span class=\"string\">\", I am \"</span> + age + <span class=\"string\">\" years old.\"</span>);</span><br><span class=\"line\"><span class=\"comment\">// ES6 之前的写法</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`my name is <span class=\"subst\">${name}</span>, I am <span class=\"subst\">${calcAge() + <span class=\"number\">1</span>}</span> years old.`</span>);</span><br><span class=\"line\"><span class=\"comment\">// ES6 的模板字符串写法</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>标签模板字符串的使用：</strong></p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\">a, b, c</span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a, b, c);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\">foo<span class=\"string\">`my name is <span class=\"subst\">${name}</span>, I am <span class=\"subst\">${age}</span> years old.`</span>; <span class=\"comment\">// ['my name is ', ', I am ', ' years old.'] Alice 18</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 第一个参数依然是模板字符串的整个字符串，只是被切成多块放到了一个数组中</span></span><br><span class=\"line\"><span class=\"comment\">// 后面的参数依次是插值表达式的值</span></span><br></pre></td></tr></tbody></table></figure>\n\n<figure class=\"highlight jsx\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 使用示例 React 中的 styled-components 库</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title class_\">Banner</span> = styled.<span class=\"property\">div</span><span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">  background-color: red;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">  .banner-item {</span></span><br><span class=\"line\"><span class=\"string\">    height: 100px;</span></span><br><span class=\"line\"><span class=\"string\">  }</span></span><br><span class=\"line\"><span class=\"string\">`</span>;</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"八、函数默认值\"><a href=\"#八、函数默认值\" class=\"headerlink\" title=\"八、函数默认值\"></a>八、函数默认值</h3><p>函数默认值，可以为函数参数提供默认值，当调用函数时，如果该参数没有传递值或传递的值为 <code>undefined</code>，则使用默认值。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo1</span>(<span class=\"params\">m = <span class=\"number\">0</span>, n = <span class=\"number\">1</span></span>) {</span><br><span class=\"line\">  <span class=\"comment\">// 之前的写法，可读性差且可能存在边界情况判断问题</span></span><br><span class=\"line\">  <span class=\"comment\">// m = m || 0;</span></span><br><span class=\"line\">  <span class=\"comment\">// n = n || 1;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> m + n;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 对象参数的默认值与解构</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">printInfo</span>(<span class=\"params\">{ name, age } = { name: <span class=\"string\">\"Alice\"</span>, age: <span class=\"number\">18</span> }</span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name, age);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 有默认值的形参最好放在最后</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo2</span>(<span class=\"params\">m = <span class=\"number\">3</span>, n, x</span>) {</span><br><span class=\"line\">  <span class=\"keyword\">return</span> m + n + x;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo2</span>(<span class=\"literal\">undefined</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>); <span class=\"comment\">// 6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 有默认值的函数的 length 属性</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo3</span>(<span class=\"params\">m, n = <span class=\"number\">1</span>, x = <span class=\"number\">2</span></span>) {</span><br><span class=\"line\">  <span class=\"keyword\">return</span> m + n + x;</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(foo.<span class=\"property\">length</span>); <span class=\"comment\">// 1，只算默认值之前的所有参数的个数</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"九、函数的剩余参数\"><a href=\"#九、函数的剩余参数\" class=\"headerlink\" title=\"九、函数的剩余参数\"></a>九、函数的剩余参数</h3><p>ES6 引入了剩余参数（rest parameters），允许函数接受任意数量的参数，这些参数会被收集到一个数组中。</p>\n<p>如果<strong>最后一个</strong>参数是以 <code>...</code> 为前缀的，则它将收集所有剩余的参数放到该参数中，并且作为一个数组。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\">m, n, ...args</span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(m, n, args);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>); <span class=\"comment\">// 1 2 [3, 4, 5]</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>剩余参数与 arguments 对象的区别：</strong></p>\n<ol>\n<li>剩余参数只包含那些没有对应形参的实参，而 arguments 对象包含所有传递给函数的所有实参。</li>\n<li>arguments 对象不是数组，而剩余参数是数组，可以使用数组方法。</li>\n<li>arguments 是早期的 ECMAScript 中为了方便去获取所有的参数而提供的一个数据结构，而剩余参数是 ES6 中提供并且希望以此来替代 arguments 的。</li>\n</ol>\n<h3 id=\"十、箭头函数补充\"><a href=\"#十、箭头函数补充\" class=\"headerlink\" title=\"十、箭头函数补充\"></a>十、箭头函数补充</h3><p>箭头函数没有显式原型，不能作为构造函数、不能通过 <code>new</code> 来创建对象，没有 <code>this</code>和<code>arguments</code>、到上层作用域中寻找。</p>\n<h3 id=\"十一、展开语法（spread-syntax）\"><a href=\"#十一、展开语法（spread-syntax）\" class=\"headerlink\" title=\"十一、展开语法（spread syntax）\"></a>十一、展开语法（spread syntax）</h3><p>展开语法可以在函数调用/数组构造时，将数组表达式或者 string 在语法层面展开。还可以在构造字面量对象时将对象表达式按 key-value 的方式展开。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> names = [<span class=\"string\">\"Alice\"</span>, <span class=\"string\">\"Bob\"</span>, <span class=\"string\">\"Charlie\"</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> info = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 1. 函数调用时展开</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\">x, y, z</span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x, y, z);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>(...names); <span class=\"comment\">// Alice Bob Charlie</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2. 数组构造时展开</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> newNames = [...names];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newNames); <span class=\"comment\">// ['Alice', 'Bob', 'Charlie']</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 3. 对象构造时展开</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> newNames = { ...names };</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newNames); <span class=\"comment\">// {'0': 'Alice', '1': 'Bob', '2': 'Charlie'}</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> newInfo = { ...info };</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newInfo); <span class=\"comment\">// {name: 'Alice', age: 18}</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 4. 字符串展开</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(...<span class=\"string\">\"hello\"</span>); <span class=\"comment\">// h e l l o</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 5. 展开运算符进行的浅拷贝</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> info = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">friend</span>: {</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">  },</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = {</span><br><span class=\"line\">  ...info,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Charlie\"</span>,</span><br><span class=\"line\">};</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj); <span class=\"comment\">// {name: 'Charlie', friend: {name: 'Bob'}}</span></span><br><span class=\"line\"></span><br><span class=\"line\">obj.<span class=\"property\">friend</span>.<span class=\"property\">name</span> = <span class=\"string\">\"David\"</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(info); <span class=\"comment\">// {name: 'Alice', friend: {name: 'David'}}</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十二、数值的表示\"><a href=\"#十二、数值的表示\" class=\"headerlink\" title=\"十二、数值的表示\"></a>十二、数值的表示</h3><p>在 ES6 中规范了二进制和八进制的表示法。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> num1 = <span class=\"number\">100</span>; <span class=\"comment\">// 十进制</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num2 = <span class=\"number\">0b100</span>; <span class=\"comment\">// 二进制 binary</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num3 = <span class=\"number\">0o100</span>; <span class=\"comment\">// 八进制 octal</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> num4 = <span class=\"number\">0x100</span>; <span class=\"comment\">// 十六进制 hexadecimal</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(num1, num2, num3, num4); <span class=\"comment\">// 100 4 64 256</span></span><br></pre></td></tr></tbody></table></figure>\n\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 数字连接符（ES12）</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1_000_000</span>); <span class=\"comment\">// 1000000</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十三、Symbol\"><a href=\"#十三、Symbol\" class=\"headerlink\" title=\"十三、Symbol\"></a>十三、Symbol</h3><p>Symbol 是 ES6 新增的一个原始数据类型，翻译为“符号”，表示独一无二的值。</p>\n<p><strong>为什么需要 Symbol？</strong></p>\n<p>在 ES6 之前，我们通常使用字符串作为对象的属性名。但是字符串作为属性名时，可能会发生冲突，尤其是在大型项目或使用第三方库时，从而导致意外的覆盖或错误。</p>\n<p>Symbol 提供了一种解决方案，它生成的每个 Symbol 值都是唯一的，生成后可以作为属性名。即在 ES6 中，对象的属性名可以为字符串或 Symbol。</p>\n<p>即使多次创建相同描述的 Symbol，它们也是不同的。Symbol 函数执行后每次创建出来的值是独一无二的。</p>\n<p>ES10 之后，我们也可以在 Symbol 中添加一个描述（description），方便调试。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Symbol 的使用</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> sym1 = <span class=\"title class_\">Symbol</span>(<span class=\"string\">\"description\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> sym2 = <span class=\"title class_\">Symbol</span>(<span class=\"string\">\"description\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sym1 === sym2); <span class=\"comment\">// false，两个 Symbol 是不同的</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> myObject = {</span><br><span class=\"line\">  [sym1]: <span class=\"string\">\"value1\"</span>,</span><br><span class=\"line\">  [sym2]: <span class=\"string\">\"value2\"</span>,</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 新增属性</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> sym3 = <span class=\"title class_\">Symbol</span>(<span class=\"string\">\"description\"</span>);</span><br><span class=\"line\">myObject[sym3] = <span class=\"string\">\"value3\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用 defineProperty 定义属性</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> sym4 = <span class=\"title class_\">Symbol</span>(<span class=\"string\">\"description\"</span>);</span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(myObject, sym4, {</span><br><span class=\"line\">  <span class=\"attr\">value</span>: <span class=\"string\">\"value4\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">writable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"attr\">enumerable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"attr\">configurable</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 获取值</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myObject[sym1]); <span class=\"comment\">// \"value1\"</span></span><br><span class=\"line\"><span class=\"comment\">// 注意：不能使用点操作符 `.` 访问 Symbol 属性，因为会查找字符串属性名</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myObject.<span class=\"property\">sym2</span>); <span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 获取所有 Symbol 属性</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> symbols = <span class=\"title class_\">Object</span>.<span class=\"title function_\">getOwnPropertySymbols</span>(myObject);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(symbols); <span class=\"comment\">// [Symbol(description), Symbol(description), Symbol(description), Symbol(description)]</span></span><br><span class=\"line\"><span class=\"comment\">// 遍历和 Object.keys() 等方法不会返回 Symbol 属性</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 共用的 Symbol，Symbol.for(key)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> globalSym1 = <span class=\"title class_\">Symbol</span>.<span class=\"title function_\">for</span>(<span class=\"string\">\"globalDescription\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> globalSym2 = <span class=\"title class_\">Symbol</span>.<span class=\"title function_\">for</span>(<span class=\"string\">\"globalDescription\"</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(globalSym1 === globalSym2); <span class=\"comment\">// true，使用 Symbol.for 创建的 Symbol</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 获取 Symbol 的 key，Symbol.keyFor(symbol)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> key = <span class=\"title class_\">Symbol</span>.<span class=\"title function_\">keyFor</span>(globalSym1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key); <span class=\"comment\">// \"globalDescription\"</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十四、Set-和-Map\"><a href=\"#十四、Set-和-Map\" class=\"headerlink\" title=\"十四、Set 和 Map\"></a>十四、Set 和 Map</h3><p><strong>Set 的基本使用：</strong></p>\n<p>在 ES6 之前，我们存储数据的结构主要有两种：数组和对象。但是它们都有各自的缺点：</p>\n<ol>\n<li>数组中可能会有重复的元素，无法保证元素的唯一性。</li>\n<li>对象的属性名只能是字符串或 Symbol，无法使用其他类型的值作为键。</li>\n</ol>\n<p>在 ES6 中，引入了 Set 和 Map 数据结构以及它们的另外形式 WeakSet、WeakMap，解决了上述问题。</p>\n<p>Set 和数组类似，但是 Set 中的元素是唯一且无序的。创建 Set 我们需要通过 Set 构造函数而没有字面量语法。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> mySet = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 添加元素</span></span><br><span class=\"line\">mySet.<span class=\"title function_\">add</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">mySet.<span class=\"title function_\">add</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">mySet.<span class=\"title function_\">add</span>(<span class=\"number\">2</span>); <span class=\"comment\">// 重复添加不会生效</span></span><br><span class=\"line\"></span><br><span class=\"line\">mySet.<span class=\"title function_\">add</span>({});</span><br><span class=\"line\">mySet.<span class=\"title function_\">add</span>({}); <span class=\"comment\">// 两个空对象是不同的引用，因为每次都创建了新对象，创建的对象地址不同</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = {};</span><br><span class=\"line\">mySet.<span class=\"title function_\">add</span>(obj);</span><br><span class=\"line\">mySet.<span class=\"title function_\">add</span>(obj); <span class=\"comment\">// 添加同一个对象引用不会生效</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 对数组去重</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> uniqueNumbers = [...<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(numbers)];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(uniqueNumbers); <span class=\"comment\">// [1, 2, 3, 4, 5]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// size 属性</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(mySet.<span class=\"property\">size</span>); <span class=\"comment\">// 4</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 删除元素</span></span><br><span class=\"line\">mySet.<span class=\"title function_\">delete</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(mySet.<span class=\"title function_\">has</span>(<span class=\"number\">2</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 遍历 Set</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> item <span class=\"keyword\">of</span> mySet) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item);</span><br><span class=\"line\">}</span><br><span class=\"line\">mySet.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item);</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 清空 Set</span></span><br><span class=\"line\">mySet.<span class=\"title function_\">clear</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(mySet.<span class=\"property\">size</span>); <span class=\"comment\">// 0</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>WeakSet 的使用：</strong></p>\n<p>WeakSet 与 Set 类似，但是它只允许存储对象引用，不能存储其他类型的值。并且 WeakSet 中的对象是弱引用，如果没有其他引用指向该对象，则该对象可以被垃圾回收机制回收。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myWeakSet = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakSet</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">weakSet.<span class=\"title function_\">add</span>(<span class=\"number\">10</span>); <span class=\"comment\">// 报错，WeakSet 只能存储对象引用</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj1 = { <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span> };</span><br><span class=\"line\">myWeakSet.<span class=\"title function_\">add</span>(obj1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myWeakSet.<span class=\"title function_\">has</span>(obj1)); <span class=\"comment\">// true</span></span><br><span class=\"line\">myWeakSet.<span class=\"title function_\">delete</span>(obj1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myWeakSet.<span class=\"title function_\">has</span>(obj1)); <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 应用场景</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> personSet = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakSet</span>();</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Person</span> {</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">name</span>) {</span><br><span class=\"line\">    personSet.<span class=\"title function_\">add</span>(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">  }</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">running</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!personSet.<span class=\"title function_\">has</span>(<span class=\"variable language_\">this</span>)) {</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">\"Invalid instance\"</span>);</span><br><span class=\"line\">    }</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"running~\"</span>);</span><br><span class=\"line\">  }</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>();</span><br><span class=\"line\">p.<span class=\"title function_\">running</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">p.<span class=\"property\">running</span>.<span class=\"title function_\">call</span>();</span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>Map 的基本使用：</strong></p>\n<p>Map 是一种键值对的数据结构，类似于对象，但是 Map 的键可以是任意类型的值，而不仅仅是字符串或 Symbol。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj1 = { <span class=\"attr\">id</span>: <span class=\"number\">1</span> };</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj2 = { <span class=\"attr\">id</span>: <span class=\"number\">2</span> };</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> info = {</span><br><span class=\"line\">  [obj1]: <span class=\"string\">\"Object 1\"</span>,</span><br><span class=\"line\">  [obj2]: <span class=\"string\">\"Object 2\"</span>,</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(info); <span class=\"comment\">// {'[object Object]': 'Object 2'}，本质上还是使用的字符串作为键，导致冲突</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> myMap = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">myMap.<span class=\"title function_\">set</span>(obj1, <span class=\"string\">\"Object 1\"</span>);</span><br><span class=\"line\">myMap.<span class=\"title function_\">set</span>(obj2, <span class=\"string\">\"Object 2\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myMap); <span class=\"comment\">// Map(2) {{…} =&gt; 'Object 1', {…} =&gt; 'Object 2'}</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myMap.<span class=\"title function_\">get</span>(obj1)); <span class=\"comment\">// \"Object 1\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myMap.<span class=\"property\">size</span>); <span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\">myMap.<span class=\"title function_\">delete</span>(obj1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myMap.<span class=\"title function_\">has</span>(obj1)); <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 遍历 Map</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> [key, value] <span class=\"keyword\">of</span> myMap) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key, value);</span><br><span class=\"line\">}</span><br><span class=\"line\">myMap.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">value, key</span>) =&gt;</span> {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key, value);</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 清空 Map</span></span><br><span class=\"line\">myMap.<span class=\"title function_\">clear</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myMap.<span class=\"property\">size</span>); <span class=\"comment\">// 0</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p><strong>WeakMap 的使用：</strong></p>\n<p>WeakMap 与 Map 类似，但是它的键必须是对象引用，不能是其他类型的值。并且 WeakMap 中的键是弱引用，如果没有其他引用指向该对象，则该对象可以被垃圾回收机制回收。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> myWeakMap = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakMap</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj1 = { <span class=\"attr\">id</span>: <span class=\"number\">1</span> };</span><br><span class=\"line\">myWeakMap.<span class=\"title function_\">set</span>(obj1, <span class=\"string\">\"Object 1\"</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myWeakMap.<span class=\"title function_\">get</span>(obj1)); <span class=\"comment\">// \"Object 1\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">myWeakMap.<span class=\"title function_\">delete</span>(obj1);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myWeakMap.<span class=\"title function_\">has</span>(obj1)); <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// WeakMap 不能遍历、没有 size 和 clear 属性</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myWeakMap); <span class=\"comment\">// WeakMap { &lt;items unknown&gt; }</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 应用场景（响应式原理）</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj1 = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">};</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj2 = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Bob\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">20</span>,</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">objNameFn1</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"obj1 name changed:\"</span>, obj1.<span class=\"property\">name</span>);</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">objNameFn2</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"obj2 name changed:\"</span>, obj2.<span class=\"property\">name</span>);</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">objAgeFn1</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"obj1 age changed:\"</span>, obj1.<span class=\"property\">age</span>);</span><br><span class=\"line\">}</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">objAgeFn2</span>(<span class=\"params\"></span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"obj2 age changed:\"</span>, obj2.<span class=\"property\">age</span>);</span><br><span class=\"line\">}</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> weakMap = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakMap</span>();</span><br><span class=\"line\"><span class=\"keyword\">const</span> obj1Map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">obj1Map.<span class=\"title function_\">set</span>(<span class=\"string\">\"nameFns\"</span>, [objNameFn1, objNameFn2]);</span><br><span class=\"line\">obj2Map.<span class=\"title function_\">set</span>(<span class=\"string\">\"ageFns\"</span>, [objAgeFn1, objAgeFn2]);</span><br><span class=\"line\">weakMap.<span class=\"title function_\">set</span>(obj1, obj1Map);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj2Map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">obj2Map.<span class=\"title function_\">set</span>(<span class=\"string\">\"nameFns\"</span>, [objNameFn1, objNameFn2]);</span><br><span class=\"line\">obj2Map.<span class=\"title function_\">set</span>(<span class=\"string\">\"ageFns\"</span>, [objAgeFn1, objAgeFn2]);</span><br><span class=\"line\">weakMap.<span class=\"title function_\">set</span>(obj2, obj2Map);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 监听逻辑实现</span></span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 如果修改 obj1 的 name 属性</span></span><br><span class=\"line\">obj1.<span class=\"property\">name</span> = <span class=\"string\">\"Charlie\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> depsMap1 = weakMap.<span class=\"title function_\">get</span>(obj1);</span><br><span class=\"line\"><span class=\"keyword\">const</span> nameFns1 = depsMap1.<span class=\"title function_\">get</span>(<span class=\"string\">\"nameFns\"</span>);</span><br><span class=\"line\">nameFns1.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">fn</span>) =&gt;</span> <span class=\"title function_\">fn</span>()); <span class=\"comment\">// 执行相关的响应函数</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h2 id=\"ES7-ES12\"><a href=\"#ES7-ES12\" class=\"headerlink\" title=\"ES7 ~ ES12\"></a>ES7 ~ ES12</h2><h3 id=\"一、Array-Includes（ES7）\"><a href=\"#一、Array-Includes（ES7）\" class=\"headerlink\" title=\"一、Array Includes（ES7）\"></a>一、Array Includes（ES7）</h3><p>Array Includes 方法，用于判断数组是否包含某个元素，返回布尔值。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> numbers = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(numbers.<span class=\"title function_\">indexOf</span>(<span class=\"number\">3</span>) !== -<span class=\"number\">1</span>); <span class=\"comment\">// 旧写法</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(numbers.<span class=\"title function_\">includes</span>(<span class=\"number\">3</span>)); <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(numbers.<span class=\"title function_\">includes</span>(<span class=\"number\">6</span>)); <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 区别在于对 NaN 的判断（且 includes 可读性更好）</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"title class_\">NaN</span>];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">indexOf</span>(<span class=\"title class_\">NaN</span>)); <span class=\"comment\">// -1，旧写法无法判断 NaN</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">includes</span>(<span class=\"title class_\">NaN</span>)); <span class=\"comment\">// true，includes 可以正确判断 NaN</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"二、指数运算符（ES7）\"><a href=\"#二、指数运算符（ES7）\" class=\"headerlink\" title=\"二、指数运算符（ES7）\"></a>二、指数运算符（ES7）</h3><p>ES7 引入了指数运算符 <code>**</code>，用于计算一个数的幂。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">2</span> ** <span class=\"number\">3</span>); <span class=\"comment\">// 8，相当于 Math.pow(2, 3)</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">4</span> ** <span class=\"number\">0.5</span>); <span class=\"comment\">// 2，相当于 Math.sqrt(4)</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"三、Object-values、entries（ES8）\"><a href=\"#三、Object-values、entries（ES8）\" class=\"headerlink\" title=\"三、Object values、entries（ES8）\"></a>三、Object values、entries（ES8）</h3><p>在 ES8 之前，我们可以通过 <code>Object.keys()</code> 方法来获取对象的属性名，ES8 补充了 <code>Object.values()</code> 和 <code>Object.entries()</code> 方法，分别用于获取对象的属性值和键值对数组。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Object values</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">  <span class=\"attr\">city</span>: <span class=\"string\">\"New York\"</span>,</span><br><span class=\"line\">};</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(obj)); <span class=\"comment\">// ['name', 'age', 'city']</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>(obj)); <span class=\"comment\">// ['Alice', 18, 'New York']</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>([<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>])); <span class=\"comment\">// [10, 20, 30]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">values</span>(<span class=\"string\">\"hello\"</span>)); <span class=\"comment\">// ['h', 'e', 'l', 'l', 'o']</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(obj)); <span class=\"comment\">// [['name', 'Alice'], ['age', 18], ['city', 'New York']]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 特殊参数</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>([<span class=\"number\">10</span>, <span class=\"number\">20</span>, <span class=\"number\">30</span>])); <span class=\"comment\">// [['0', 10], ['1', 20], ['2', 30]]</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Object</span>.<span class=\"title function_\">entries</span>(<span class=\"string\">\"hello\"</span>)); <span class=\"comment\">// [['0', 'h'], ['1', 'e'], ['2', 'l'], ['3', 'l'], ['4', 'o']]</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"四、String-padding（ES8）\"><a href=\"#四、String-padding（ES8）\" class=\"headerlink\" title=\"四、String padding（ES8）\"></a>四、String padding（ES8）</h3><p>某些字符串需要我们对其进行前后的填充，来实现某种格式化效果，为此 ES8 引入了字符串的填充方法 <code>padStart</code> 和 <code>padEnd</code>。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// String padding</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">\"Hello World\"</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> newMessage = message.<span class=\"title function_\">padStart</span>(<span class=\"number\">15</span>, <span class=\"string\">\"*\"</span>).<span class=\"title function_\">padEnd</span>(<span class=\"number\">20</span>, <span class=\"string\">\"-\"</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newMessage); <span class=\"comment\">// \"****Hello World-----\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用示例</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> cardNumber = <span class=\"string\">\"1234 5678 9012 3456\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> maskedCardNumber = cardNumber.<span class=\"title function_\">padStart</span>(cardNumber.<span class=\"property\">length</span> - <span class=\"number\">4</span>, <span class=\"string\">\"*\"</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(maskedCardNumber); <span class=\"comment\">// \"**** **** **** 3456\"</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"五、Tailing-Commas（ES8）\"><a href=\"#五、Tailing-Commas（ES8）\" class=\"headerlink\" title=\"五、Tailing Commas（ES8）\"></a>五、Tailing Commas（ES8）</h3><p>在 ES8 之后，允许在函数参数和调用时使用尾随逗号（trailing commas），即在最后一个参数后面添加逗号。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\">a, b, c</span>) {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a, b, c);</span><br><span class=\"line\">}</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"六、flat-和-flatMap（ES10）\"><a href=\"#六、flat-和-flatMap（ES10）\" class=\"headerlink\" title=\"六、flat 和 flatMap（ES10）\"></a>六、flat 和 flatMap（ES10）</h3><p>ES10 引入了数组的 <code>flat</code> 和 <code>flatMap</code> 方法，用于扁平化嵌套数组。</p>\n<p><code>flat()</code>方法会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。</p>\n<p><code>flatMap()</code>方法首先使用映射函数映射每个元素，然后将结果扁平化为一个新数组。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> nestedArray = [<span class=\"number\">1</span>, [<span class=\"number\">2</span>, [<span class=\"number\">3</span>, [<span class=\"number\">4</span>]], <span class=\"number\">5</span>]];</span><br><span class=\"line\"><span class=\"keyword\">const</span> flatArray = nestedArray.<span class=\"title function_\">flat</span>(<span class=\"number\">2</span>); <span class=\"comment\">// 扁平化两层</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(flatArray); <span class=\"comment\">// [1, 2, 3, [4], 5]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> messages = [<span class=\"string\">\"hello world\"</span>, <span class=\"string\">\"foo bar\"</span>, <span class=\"string\">\"lorem ipsum\"</span>];</span><br><span class=\"line\"><span class=\"keyword\">const</span> words = messages.<span class=\"title function_\">flatMap</span>(<span class=\"function\">(<span class=\"params\">message</span>) =&gt;</span> message.<span class=\"title function_\">split</span>(<span class=\"string\">\" \"</span>));</span><br><span class=\"line\"><span class=\"comment\">// 相当于对 [[\"hello\", \"world\"], [\"foo\", \"bar\"], [\"lorem\", \"ipsum\"]] 进行扁平化</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(words); <span class=\"comment\">// ['hello', 'world', 'foo', 'bar', 'lorem', 'ipsum']</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"七、Object-fromEntries（ES10）\"><a href=\"#七、Object-fromEntries（ES10）\" class=\"headerlink\" title=\"七、Object.fromEntries（ES10）\"></a>七、Object.fromEntries（ES10）</h3><p>我们可以通过 <code>Object.entries()</code> 方法将对象转换为键值对数组，而 <code>Object.fromEntries()</code> 方法则可以将键值对数组转换回对象。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> entries = [</span><br><span class=\"line\">  [<span class=\"string\">\"name\"</span>, <span class=\"string\">\"Alice\"</span>],</span><br><span class=\"line\">  [<span class=\"string\">\"age\"</span>, <span class=\"number\">18</span>],</span><br><span class=\"line\">  [<span class=\"string\">\"city\"</span>, <span class=\"string\">\"New York\"</span>],</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = <span class=\"title class_\">Object</span>.<span class=\"title function_\">fromEntries</span>(entries);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj); <span class=\"comment\">// {name: 'Alice', age: 18, city: 'New York'}</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 使用示例</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> queryString = <span class=\"string\">\"name=Alice&amp;age=18&amp;city=New%20York\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">const</span> queryParams = <span class=\"keyword\">new</span> <span class=\"title class_\">URLSearchParams</span>(queryString);</span><br><span class=\"line\"><span class=\"keyword\">const</span> queryObj = <span class=\"title class_\">Object</span>.<span class=\"title function_\">fromEntries</span>(queryParams);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(queryObj); <span class=\"comment\">// {name: 'Alice', age: '18', city: 'New York'}</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"八、trimStart-和-trimEnd（ES10）\"><a href=\"#八、trimStart-和-trimEnd（ES10）\" class=\"headerlink\" title=\"八、trimStart 和 trimEnd（ES10）\"></a>八、trimStart 和 trimEnd（ES10）</h3><p><code>trimStart()</code> 和 <code>trimEnd()</code> 方法用于去除字符串开头和结尾的空白字符。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> message = <span class=\"string\">\"   Hello World!   \"</span>;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(message.<span class=\"title function_\">trimStart</span>()); <span class=\"comment\">// \"Hello World!   \"</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(message.<span class=\"title function_\">trimEnd</span>()); <span class=\"comment\">// \"   Hello World!\"</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"九、BigInt（ES11）\"><a href=\"#九、BigInt（ES11）\" class=\"headerlink\" title=\"九、BigInt（ES11）\"></a>九、BigInt（ES11）</h3><p>早期的 JavaScript 中，数值类型只能表示到 <code>Number.MAX_SAFE_INTEGER</code>（2^53 - 1）和 <code>Number.MIN_SAFE_INTEGER</code>（-(2^53 - 1)）之间的整数，超出这个范围的整数可能会丢失精度。</p>\n<p>ES11 引入了 BigInt 数据类型，用于表示任意精度的整数。我们可以通过在整数后面添加 <code>n</code> 来创建一个 BigInt。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> bigInt1 = <span class=\"number\">9007199254741991n</span>; <span class=\"comment\">// BigInt 类型</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> bigInt2 = <span class=\"title class_\">BigInt</span>(<span class=\"string\">\"900719925474199123456789\"</span>); <span class=\"comment\">// 通过 BigInt 函数创建</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bigInt1 + <span class=\"number\">10n</span>); <span class=\"comment\">// 9007199254742001n</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bigInt2 * <span class=\"number\">2n</span>); <span class=\"comment\">// 1801439850948398246913578n</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> smallNumber = <span class=\"title class_\">Number</span>(bigInt1); <span class=\"comment\">// 转换为普通数字，但不能保证安全精度</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> invalid = bigInt1 + <span class=\"number\">10</span>; <span class=\"comment\">// 报错，不能将 BigInt 与普通数字混合运算</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十、空值合并运算符-Nullish-Coalescing-Operator（ES11）\"><a href=\"#十、空值合并运算符-Nullish-Coalescing-Operator（ES11）\" class=\"headerlink\" title=\"十、空值合并运算符 Nullish Coalescing Operator（ES11）\"></a>十、空值合并运算符 Nullish Coalescing Operator（ES11）</h3><p>空值合并运算符 <code>??</code> 用于在左侧操作数为 <code>null</code> 或 <code>undefined</code> 时，返回右侧操作数，否则返回左侧操作数。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo = <span class=\"literal\">null</span> ?? <span class=\"string\">\"default value\"</span>; <span class=\"comment\">// \"default value\"</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> bar = <span class=\"literal\">undefined</span> ?? <span class=\"string\">\"default value\"</span>; <span class=\"comment\">// \"default value\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> baz = <span class=\"number\">0</span> ?? <span class=\"string\">\"default value\"</span>; <span class=\"comment\">// 0</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> qux = <span class=\"string\">\"\"</span> ?? <span class=\"string\">\"default value\"</span>; <span class=\"comment\">// \"\"</span></span><br></pre></td></tr></tbody></table></figure>\n\n<p>空值合并运算符与逻辑或运算符 <code>||</code> 的区别在于，<code>||</code> 会将所有假值（如 <code>0</code>、<code>\"\"</code>、<code>false</code>）视为需要替换的情况，而 <code>??</code> 只针对 <code>null</code> 和 <code>undefined</code>。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> value1 = <span class=\"number\">0</span> || <span class=\"string\">\"default\"</span>; <span class=\"comment\">// \"default\"</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> value2 = <span class=\"string\">\"\"</span> || <span class=\"string\">\"default\"</span>; <span class=\"comment\">// \"default\"</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> value3 = <span class=\"literal\">false</span> || <span class=\"string\">\"default\"</span>; <span class=\"comment\">// \"default\"</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十一、可选链运算符-Optional-Chaining-Operator（ES11）\"><a href=\"#十一、可选链运算符-Optional-Chaining-Operator（ES11）\" class=\"headerlink\" title=\"十一、可选链运算符 Optional Chaining Operator（ES11）\"></a>十一、可选链运算符 Optional Chaining Operator（ES11）</h3><p>可选链运算符 <code>?.</code> 用于在访问对象属性或调用方法时，如果某个中间属性为 <code>null</code> 或 <code>undefined</code>，则短路返回 <code>undefined</code>，而不会抛出错误。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> user = {</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">address</span>: {</span><br><span class=\"line\">    <span class=\"attr\">city</span>: <span class=\"string\">\"New York\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">zip</span>: <span class=\"string\">\"10001\"</span>,</span><br><span class=\"line\">  },</span><br><span class=\"line\">  <span class=\"attr\">eating</span>: <span class=\"function\">() =&gt;</span> {</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">\"eating~\"</span>);</span><br><span class=\"line\">  },</span><br><span class=\"line\">};</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(user.<span class=\"property\">address</span>?.<span class=\"property\">city</span>); <span class=\"comment\">// \"New York\"</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(user.<span class=\"property\">contact</span>?.<span class=\"property\">phone</span>); <span class=\"comment\">// undefined，不会抛出错误</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(user.<span class=\"property\">eating</span>?.()); <span class=\"comment\">// \"eating~\"</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(user.<span class=\"property\">running</span>?.()); <span class=\"comment\">// undefined，不会抛出错误</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十二、全局对象-Global-This（ES11）\"><a href=\"#十二、全局对象-Global-This（ES11）\" class=\"headerlink\" title=\"十二、全局对象 Global This（ES11）\"></a>十二、全局对象 Global This（ES11）</h3><p>在不同的 JavaScript 环境中，全局对象的名称是不一样的。在浏览器中是 <code>window</code>，在 Node.js 中是 <code>global</code>，在 Web Worker 中是 <code>self</code>。</p>\n<p>ES11 引入了 <code>globalThis</code>，作为统一的全局对象引用，无论在哪种环境中都可以使用。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(globalThis); <span class=\"comment\">// 在浏览器中输出 window 对象，在 Node.js 中输出 global 对象</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十三、Finalization-Registry（ES12）\"><a href=\"#十三、Finalization-Registry（ES12）\" class=\"headerlink\" title=\"十三、Finalization Registry（ES12）\"></a>十三、Finalization Registry（ES12）</h3><p>Finalization Registry 是 ES12 引入的一个新特性，用于在对象被垃圾回收时执行清理操作。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> registry = <span class=\"keyword\">new</span> <span class=\"title class_\">FinalizationRegistry</span>(<span class=\"function\">(<span class=\"params\">heldValue</span>) =&gt;</span> {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`对象被垃圾回收，持有值为: <span class=\"subst\">${heldValue}</span>`</span>);</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = { <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span> };</span><br><span class=\"line\">registry.<span class=\"title function_\">register</span>(obj, <span class=\"string\">\"some held value\"</span>);</span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十四、WeakRef（ES12）\"><a href=\"#十四、WeakRef（ES12）\" class=\"headerlink\" title=\"十四、WeakRef（ES12）\"></a>十四、WeakRef（ES12）</h3><p>WeakRef 是 ES12 引入的一个新特性，用于创建对对象的弱引用，允许我们在不阻止对象被垃圾回收的情况下引用该对象。</p>\n<figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = { <span class=\"attr\">name</span>: <span class=\"string\">\"Alice\"</span> };</span><br><span class=\"line\"><span class=\"keyword\">let</span> weakRef = <span class=\"keyword\">new</span> <span class=\"title class_\">WeakRef</span>(obj);</span><br><span class=\"line\"><span class=\"keyword\">const</span> registry = <span class=\"keyword\">new</span> <span class=\"title class_\">FinalizationRegistry</span>(<span class=\"function\">(<span class=\"params\">heldValue</span>) =&gt;</span> {</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`对象被垃圾回收，持有值为: <span class=\"subst\">${heldValue}</span>`</span>);</span><br><span class=\"line\">});</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(weakRef.<span class=\"title function_\">deref</span>()); <span class=\"comment\">// { name: \"Alice\" }</span></span><br><span class=\"line\">obj = <span class=\"literal\">null</span>; <span class=\"comment\">// 解除对 obj 的引用</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 经过垃圾回收后，weakRef.deref() 返回 undefined</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h3 id=\"十五、逻辑赋值运算符-Logical-Assignment-Operators（ES12）\"><a href=\"#十五、逻辑赋值运算符-Logical-Assignment-Operators（ES12）\" class=\"headerlink\" title=\"十五、逻辑赋值运算符 Logical Assignment Operators（ES12）\"></a>十五、逻辑赋值运算符 Logical Assignment Operators（ES12）</h3><figure class=\"highlight javascript\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 逻辑与赋值运算符 (&amp;&amp;=)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = { <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">0</span> };</span><br><span class=\"line\">obj.<span class=\"property\">a</span> &amp;&amp;= <span class=\"number\">10</span>; <span class=\"comment\">// obj.a = obj.a &amp;&amp; 10;</span></span><br><span class=\"line\">obj.<span class=\"property\">b</span> &amp;&amp;= <span class=\"number\">20</span>; <span class=\"comment\">// obj.b = obj.b &amp;&amp; 20;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj); <span class=\"comment\">// { a: 10, b: 0 }</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 逻辑或赋值运算符 (||=)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj2 = { <span class=\"attr\">a</span>: <span class=\"literal\">null</span>, <span class=\"attr\">b</span>: <span class=\"number\">5</span> };</span><br><span class=\"line\">obj2.<span class=\"property\">a</span> ||= <span class=\"number\">10</span>; <span class=\"comment\">// obj2.a = obj2.a || 10;</span></span><br><span class=\"line\">obj2.<span class=\"property\">b</span> ||= <span class=\"number\">20</span>; <span class=\"comment\">// obj2.b = obj2.b || 20;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj2); <span class=\"comment\">// { a: 10, b: 5 }</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 空值合并赋值运算符 (??=)</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj3 = { <span class=\"attr\">a</span>: <span class=\"literal\">undefined</span>, <span class=\"attr\">b</span>: <span class=\"number\">0</span> };</span><br><span class=\"line\">obj3.<span class=\"property\">a</span> ??= <span class=\"number\">10</span>; <span class=\"comment\">// obj3.a = obj3.a ?? 10;</span></span><br><span class=\"line\">obj3.<span class=\"property\">b</span> ??= <span class=\"number\">20</span>; <span class=\"comment\">// obj3.b = obj3.b ?? 20</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj3); <span class=\"comment\">// { a: 10, b: 0 }</span></span><br></pre></td></tr></tbody></table></figure>\n\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>以上是 ES6 到 ES12 一些主要的新特性介绍，这些特性极大地丰富了 JavaScript 语言的表达能力和开发效率。掌握并灵活运用这些特性，可以帮助我们编写更简洁、可维护和高效的代码。</p>\n<p>其中有部分特性在其他的文章中讲过或者是有进行专门分出来的文章进行详解，因此不在本文中。</p>\n<p>参考内容：</p>\n<ul>\n<li><a href=\"https://www.bilibili.com/video/BV1gYpmeKEvt?spm_id_from=333.788.videopod.episodes&amp;vd_source=13be13cef40f3972c65f0af98bf87ea2\">coderwhy 最强 JavaScript 高级教程 92-124 集</a></li>\n</ul>\n","text":"JS 高级-7-ES6 到 ES12ES6一、扩展继承内置类用于扩展类的方法，实现某些特殊功能同时保持大部分原类的功能可用。 12345678910111213...","permalink":"/post/js-premier-7-es6-to-es12","photos":[],"count_time":{"symbolsCount":"20k","symbolsTime":"18 mins."},"categories":[{"name":"前端","slug":"前端","count":23,"path":"api/categories/前端.json"}],"tags":[{"name":"技术","slug":"技术","count":21,"path":"api/tags/技术.json"},{"name":"前端","slug":"前端","count":23,"path":"api/tags/前端.json"},{"name":"笔记","slug":"笔记","count":18,"path":"api/tags/笔记.json"},{"name":"JavaScript","slug":"JavaScript","count":11,"path":"api/tags/JavaScript.json"},{"name":"进阶","slug":"进阶","count":9,"path":"api/tags/进阶.json"},{"name":"ES6","slug":"ES6","count":1,"path":"api/tags/ES6.json"},{"name":"ES7","slug":"ES7","count":1,"path":"api/tags/ES7.json"},{"name":"ES8","slug":"ES8","count":1,"path":"api/tags/ES8.json"},{"name":"ES10","slug":"ES10","count":1,"path":"api/tags/ES10.json"},{"name":"ES11","slug":"ES11","count":1,"path":"api/tags/ES11.json"},{"name":"ES12","slug":"ES12","count":1,"path":"api/tags/ES12.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#JS-%E9%AB%98%E7%BA%A7-7-ES6-%E5%88%B0-ES12\"><span class=\"toc-text\">JS 高级-7-ES6 到 ES12</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ES6\"><span class=\"toc-text\">ES6</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E6%89%A9%E5%B1%95%E7%BB%A7%E6%89%BF%E5%86%85%E7%BD%AE%E7%B1%BB\"><span class=\"toc-text\">一、扩展继承内置类</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E5%AE%9E%E7%8E%B0%E6%B7%B7%E5%85%A5%E6%95%88%E6%9E%9C-mixin\"><span class=\"toc-text\">二、实现混入效果 mixin</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81JavaScript-%E4%B8%AD%E7%9A%84%E5%A4%9A%E6%80%81\"><span class=\"toc-text\">三、JavaScript 中的多态</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E7%9A%84%E5%A2%9E%E5%BC%BA\"><span class=\"toc-text\">四、对象字面量的增强</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%94%E3%80%81%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E7%BB%84%E7%9A%84%E8%A7%A3%E6%9E%84-Destructuring\"><span class=\"toc-text\">五、对象和数组的解构 Destructuring</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%AD%E3%80%81let-%E5%92%8C-const\"><span class=\"toc-text\">六、let 和 const</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%83%E3%80%81%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2\"><span class=\"toc-text\">七、模板字符串</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%AB%E3%80%81%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC\"><span class=\"toc-text\">八、函数默认值</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B9%9D%E3%80%81%E5%87%BD%E6%95%B0%E7%9A%84%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">九、函数的剩余参数</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E3%80%81%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E8%A1%A5%E5%85%85\"><span class=\"toc-text\">十、箭头函数补充</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%80%E3%80%81%E5%B1%95%E5%BC%80%E8%AF%AD%E6%B3%95%EF%BC%88spread-syntax%EF%BC%89\"><span class=\"toc-text\">十一、展开语法（spread syntax）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%BA%8C%E3%80%81%E6%95%B0%E5%80%BC%E7%9A%84%E8%A1%A8%E7%A4%BA\"><span class=\"toc-text\">十二、数值的表示</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%89%E3%80%81Symbol\"><span class=\"toc-text\">十三、Symbol</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E5%9B%9B%E3%80%81Set-%E5%92%8C-Map\"><span class=\"toc-text\">十四、Set 和 Map</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ES7-ES12\"><span class=\"toc-text\">ES7 ~ ES12</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81Array-Includes%EF%BC%88ES7%EF%BC%89\"><span class=\"toc-text\">一、Array Includes（ES7）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E6%8C%87%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%88ES7%EF%BC%89\"><span class=\"toc-text\">二、指数运算符（ES7）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81Object-values%E3%80%81entries%EF%BC%88ES8%EF%BC%89\"><span class=\"toc-text\">三、Object values、entries（ES8）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81String-padding%EF%BC%88ES8%EF%BC%89\"><span class=\"toc-text\">四、String padding（ES8）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%94%E3%80%81Tailing-Commas%EF%BC%88ES8%EF%BC%89\"><span class=\"toc-text\">五、Tailing Commas（ES8）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%AD%E3%80%81flat-%E5%92%8C-flatMap%EF%BC%88ES10%EF%BC%89\"><span class=\"toc-text\">六、flat 和 flatMap（ES10）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%83%E3%80%81Object-fromEntries%EF%BC%88ES10%EF%BC%89\"><span class=\"toc-text\">七、Object.fromEntries（ES10）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%AB%E3%80%81trimStart-%E5%92%8C-trimEnd%EF%BC%88ES10%EF%BC%89\"><span class=\"toc-text\">八、trimStart 和 trimEnd（ES10）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B9%9D%E3%80%81BigInt%EF%BC%88ES11%EF%BC%89\"><span class=\"toc-text\">九、BigInt（ES11）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E3%80%81%E7%A9%BA%E5%80%BC%E5%90%88%E5%B9%B6%E8%BF%90%E7%AE%97%E7%AC%A6-Nullish-Coalescing-Operator%EF%BC%88ES11%EF%BC%89\"><span class=\"toc-text\">十、空值合并运算符 Nullish Coalescing Operator（ES11）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%80%E3%80%81%E5%8F%AF%E9%80%89%E9%93%BE%E8%BF%90%E7%AE%97%E7%AC%A6-Optional-Chaining-Operator%EF%BC%88ES11%EF%BC%89\"><span class=\"toc-text\">十一、可选链运算符 Optional Chaining Operator（ES11）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%BA%8C%E3%80%81%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1-Global-This%EF%BC%88ES11%EF%BC%89\"><span class=\"toc-text\">十二、全局对象 Global This（ES11）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%B8%89%E3%80%81Finalization-Registry%EF%BC%88ES12%EF%BC%89\"><span class=\"toc-text\">十三、Finalization Registry（ES12）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E5%9B%9B%E3%80%81WeakRef%EF%BC%88ES12%EF%BC%89\"><span class=\"toc-text\">十四、WeakRef（ES12）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%81%E4%BA%94%E3%80%81%E9%80%BB%E8%BE%91%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6-Logical-Assignment-Operators%EF%BC%88ES12%EF%BC%89\"><span class=\"toc-text\">十五、逻辑赋值运算符 Logical Assignment Operators（ES12）</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li></ol></li></ol>","author":{"name":"Proselyte","slug":"blog-author","avatar":"https://raw.githubusercontent.com/ProselyteCoding/online-assets/main/blog/avatar.jpg","link":"/","description":"衷于创造，向往自由。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"JS高级-6-面向对象编程-2","uid":"b8c33cb7f848582aa7c9a297a62853e5","slug":"js-premier-6-object-oriented-programming-2","date":"2025-07-31T06:41:18.000Z","updated":"2025-09-18T08:45:42.766Z","comments":true,"path":"api/articles/js-premier-6-object-oriented-programming-2.json","keywords":null,"cover":"https://raw.githubusercontent.com/ProselyteCoding/online-assets/main/blog/cover-js.png","text":"JS高级-6-面向对象编程-2一、原型链和继承面向对象的特性 封装（Encapsulation）：将数据（属性）和行为（方法）封装在一起，对外隐藏内部实现细节，...","permalink":"/post/js-premier-6-object-oriented-programming-2","photos":[],"count_time":{"symbolsCount":"7.8k","symbolsTime":"7 mins."},"categories":[{"name":"前端","slug":"前端","count":23,"path":"api/categories/前端.json"}],"tags":[{"name":"技术","slug":"技术","count":21,"path":"api/tags/技术.json"},{"name":"前端","slug":"前端","count":23,"path":"api/tags/前端.json"},{"name":"笔记","slug":"笔记","count":18,"path":"api/tags/笔记.json"},{"name":"JavaScript","slug":"JavaScript","count":11,"path":"api/tags/JavaScript.json"},{"name":"进阶","slug":"进阶","count":9,"path":"api/tags/进阶.json"},{"name":"面向对象编程","slug":"面向对象编程","count":2,"path":"api/tags/面向对象编程.json"},{"name":"OOP","slug":"OOP","count":2,"path":"api/tags/OOP.json"},{"name":"原型链","slug":"原型链","count":1,"path":"api/tags/原型链.json"},{"name":"继承","slug":"继承","count":1,"path":"api/tags/继承.json"},{"name":"类","slug":"类","count":1,"path":"api/tags/类.json"}],"author":{"name":"Proselyte","slug":"blog-author","avatar":"https://raw.githubusercontent.com/ProselyteCoding/online-assets/main/blog/avatar.jpg","link":"/","description":"衷于创造，向往自由。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"React钩子函数-1-useState和useReducer","uid":"2c9152db5ab3b447eb6957f90810b68a","slug":"react-hook-1-usestate-usereducer","date":"2025-07-30T02:52:16.000Z","updated":"2025-08-26T11:06:07.762Z","comments":true,"path":"api/articles/react-hook-1-usestate-usereducer.json","keywords":null,"cover":"https://raw.githubusercontent.com/ProselyteCoding/online-assets/main/blog/cover-react.png","text":"React钩子函数-1-useState和useReducer一、背景与概述这两个钩子函数归纳为 State Hook。 状态帮助组件 “记住”用户输入的信息。...","permalink":"/post/react-hook-1-usestate-usereducer","photos":[],"count_time":{"symbolsCount":"24k","symbolsTime":"22 mins."},"categories":[{"name":"前端","slug":"前端","count":23,"path":"api/categories/前端.json"}],"tags":[{"name":"技术","slug":"技术","count":21,"path":"api/tags/技术.json"},{"name":"前端","slug":"前端","count":23,"path":"api/tags/前端.json"},{"name":"笔记","slug":"笔记","count":18,"path":"api/tags/笔记.json"},{"name":"React","slug":"React","count":3,"path":"api/tags/React.json"},{"name":"React Hook","slug":"React-Hook","count":1,"path":"api/tags/React-Hook.json"},{"name":"钩子函数","slug":"钩子函数","count":2,"path":"api/tags/钩子函数.json"},{"name":"useState","slug":"useState","count":1,"path":"api/tags/useState.json"},{"name":"useReducer","slug":"useReducer","count":1,"path":"api/tags/useReducer.json"},{"name":"官方文档","slug":"官方文档","count":1,"path":"api/tags/官方文档.json"}],"author":{"name":"Proselyte","slug":"blog-author","avatar":"https://raw.githubusercontent.com/ProselyteCoding/online-assets/main/blog/avatar.jpg","link":"/","description":"衷于创造，向往自由。","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}